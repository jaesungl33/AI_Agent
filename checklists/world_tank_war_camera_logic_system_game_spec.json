{
  "doc_id": "world_tank_war_camera_logic_system",
  "metadata": {
    "created_at": "2025-11-26T11:21:59.355697",
    "version": "1.0",
    "auto_extracted": true
  },
  "spec": {
    "objects": [],
    "systems": [
      {
        "id": "sys_camera_logic",
        "name": "Camera Logic System",
        "description": "Hệ thống camera logic cho game Tank War, tái hiện phong cách camera MOBA với góc nhìn nghiêng chiến thuật (~45°).",
        "mechanics": "Góc nhìn nghiêng cố định, xoay theo hướng phe, hỗ trợ Spectator Mode sau khi chết.",
        "objectives": "Tạo trải nghiệm camera mượt mà, bao quát và gần nhân vật, tăng tính chiến thuật trong trận đấu.",
        "related_objects": [],
        "interactions": [
          "Camera tự động điều chỉnh góc nhìn dựa trên vị trí và trạng thái của xe tăng.",
          "Spectator Mode chuyển đổi giữa các đồng đội còn sống."
        ],
        "source_note": "Phiên bản: v1.1, Ngày cập nhật: 22-07-2025"
      }
    ],
    "logic_rules": [
      {
        "id": "rule_fixed_angle",
        "summary": "Góc nghiêng cố định của camera",
        "description": "Camera duy trì góc nghiêng 45° trong suốt trận đấu.",
        "trigger": "Trận đấu bắt đầu hoặc khi người chơi hồi sinh.",
        "effect": "Camera giữ góc nghiêng 45° và không thay đổi.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Yêu cầu: Góc nghiêng cố định, Gợi ý triển khai: Virtual Camera nghiêng 45°"
      },
      {
        "id": "rule_team_orientation",
        "summary": "Xoay camera theo hướng của phe",
        "description": "Camera tự động xoay theo hướng của phe người chơi.",
        "trigger": "Người chơi tham gia trận đấu hoặc chuyển đổi phe.",
        "effect": "Camera xoay trục Y-axis 0° hoặc 180° tùy thuộc vào phe.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Yêu cầu: Xoay theo hướng của phe, Gợi ý triển khai: Y-axis 0° hoặc 180° theo team"
      },
      {
        "id": "rule_spectator_mode",
        "summary": "Chế độ Spectator",
        "description": "Khi người chơi bị hạ gục, camera chuyển sang chế độ Spectator để theo dõi đồng đội còn sống.",
        "trigger": "Người chơi bị hạ gục.",
        "effect": "Camera tự động follow đồng đội còn sống, giữ nguyên thông số như lúc điều khiển.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Tính năng: Spectator Mode, Mô tả: Chuyển camera follow sang đồng đội còn sống"
      },
      {
        "id": "rule_fade_occluder",
        "summary": "Làm mờ vật cản chắn tầm nhìn camera",
        "description": "Các vật thể che khuất >50% tầm nhìn sẽ được làm mờ đi.",
        "trigger": "Model của tank bị che >50%.",
        "effect": "Vật thể bị làm mờ 70%, chỉ hiển thị 30%.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Chức năng: Fade Camera Occluder, Độ mờ vật thể: Làm mờ đi 70%"
      }
    ],
    "requirements": [
      {
        "id": "req_fixed_angle",
        "title": "Góc nghiêng cố định",
        "description": "Camera cần duy trì góc nghiêng cố định ở 45°.",
        "category": "ui",
        "priority": "high",
        "status": "proposed",
        "acceptance_criteria": "Camera luôn giữ góc nghiêng 45° trong mọi tình huống trận đấu.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Yêu cầu: Góc nghiêng cố định, Gợi ý triển khai: Virtual Camera nghiêng 45°"
      },
      {
        "id": "req_team_orientation",
        "title": "Xoay theo hướng của phe",
        "description": "Camera cần xoay theo hướng của phe người chơi.",
        "category": "ui",
        "priority": "high",
        "status": "proposed",
        "acceptance_criteria": "Camera xoay trục Y-axis 0° hoặc 180° tùy thuộc vào phe người chơi.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Yêu cầu: Xoay theo hướng của phe, Gợi ý triển khai: Y-axis 0° hoặc 180° theo team"
      },
      {
        "id": "req_smooth_transition",
        "title": "Mượt khi bám tank",
        "description": "Camera cần di chuyển mượt mà khi bám theo tank.",
        "category": "ui",
        "priority": "medium",
        "status": "proposed",
        "acceptance_criteria": "Camera sử dụng damping (0.2-0.3s) để đảm bảo chuyển động mượt mà.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Yêu cầu: Mượt khi bấm tank, Gợi ý triển khai: Dùng damping (0.2-0.3s)"
      },
      {
        "id": "req_spectator_mode",
        "title": "Spectator Mode",
        "description": "Hỗ trợ chế độ Spectator sau khi người chơi bị hạ gục.",
        "category": "progression",
        "priority": "high",
        "status": "proposed",
        "acceptance_criteria": "Camera tự động chuyển sang follow đồng đội còn sống và thoát chế độ khi player hồi sinh.",
        "related_objects": [],
        "related_systems": [
          "sys_camera_logic"
        ],
        "source_note": "Tính năng: Spectator Mode, Mô tả: Chuyển camera follow sang đồng đội còn sống"
      }
    ]
  }
}